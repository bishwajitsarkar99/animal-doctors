function getUserRAMKey(){const e=document.querySelector('meta[name="user-role"]')?.content||"guest";return`Application_Session_RAM_BackendModule_${document.querySelector('meta[name="branch-id"]')?.content||"identifyer"}_${e}_${(document.querySelector('meta[name="user-email"]')?.content||"unknown").replace(/[^a-zA-Z0-9]/g,"_")}`}export function getRAM(e,t=null){const n=getUserRAMKey(),o=(JSON.parse(sessionStorage.getItem(n)||"{}").AppSetting||{})[e]||{};return t?o[t]:o}export function setRAM(e,t,n){const o=getUserRAMKey(),i=JSON.parse(sessionStorage.getItem(o)||"{}");i.AppSetting=i.AppSetting||{},i.AppSetting[e]=i.AppSetting[e]||{},i.AppSetting[e][t]=n,sessionStorage.setItem(o,JSON.stringify(i))}export function removeRAM(e){const t=getUserRAMKey(),n=JSON.parse(sessionStorage.getItem(t)||"{}");n.AppSetting&&n.AppSetting[e]&&delete n.AppSetting[e],sessionStorage.setItem(t,JSON.stringify(n))}window.addEventListener("beforeunload",()=>{removeRAM("UserListTable")}),window.addEventListener("beforeunload",()=>{sessionStorage.removeItem(getUserRAMKey())});export function removeDataTableStorage(e){removeRAM(e)}export function initOffCanvasResize(e,t){if(!e||!t)return;const n=e.querySelector(".panel-width-resizer.left-resizer"),o=e.querySelector(".connectorPath");function i(){const t=e.getBoundingClientRect();o&&(o.setAttribute("width",t.width),o.setAttribute("height",t.height),o.setAttribute("x",0),o.setAttribute("y",0),o.setAttribute("rx",3),o.setAttribute("ry",3),o.style.display="block",o.style.stroke="dodgerblue",o.style.strokeWidth="3",o.style.strokeDasharray="5,5",o.style.animation="none",o.offsetWidth,o.style.animation="dashmove 1s linear infinite")}var r;e.style.position="absolute",(r=n)&&r.addEventListener("mousedown",function(n){n.preventDefault();const r=n.pageX,s=e.offsetWidth,l=e.offsetLeft;function d(t){const n=t.pageX-r;e.style.width=s-n+"px",e.style.left=`${l+n}px`,i()}i(),document.body.style.cursor="ew-resize",document.addEventListener("mousemove",d),document.addEventListener("mouseup",function n(){document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",n),document.body.style.cursor="",o&&(o.style.animation="none",o.style.stroke="transparent",o.style.display="none"),setRAM(t,"Left",e.offsetLeft)})});const s=getRAM(t,"Left");if(void 0!==s&&(e.style.left=`${s}px`),o){new ResizeObserver(()=>{o.setAttribute("width",e.offsetWidth)}).observe(e)}}export function initAllOffcanvasResizers(...e){e.forEach(e=>{document.querySelectorAll(e).forEach((t,n)=>{initOffCanvasResize(t,t.id||`${e.replace(".","")}-${n}`)})})}export function initDragAndDrop(e,t,n,o,i){let r=document.getElementById(o);r||(r=document.createElementNS("http://www.w3.org/2000/svg","svg"),r.setAttribute("id",o),r.style.width="100%",r.style.height="100%",r.style.position="absolute",r.style.top=0,r.style.left=0,r.style.pointerEvents="none",document.body.appendChild(r));const s=document.createElementNS("http://www.w3.org/2000/svg","rect");function l(e,t){const n=e.getBoundingClientRect(),o=r.getBoundingClientRect(),i=n.left-o.left,s=n.top-o.top;t.setAttribute("x",i),t.setAttribute("y",s),t.setAttribute("width",n.width),t.setAttribute("height",n.height),t.setAttribute("rx",6),t.setAttribute("ry",6),t.style.stroke="dodgerblue",t.style.strokeWidth="2",t.style.strokeDasharray="5,5",t.style.animation="none",t.offsetWidth,t.style.animation="dashmove 1s linear infinite",t.style.display="block"}function d(e){e.style.animation="none",e.style.display="none"}s.setAttribute("id","drag-border-rect"),s.setAttribute("fill","none"),s.style.display="none",r.appendChild(s);document.querySelector(n);const a=Array.from(document.querySelectorAll(e));let u=null;function c(){s.innerHTML="";const e=document.querySelectorAll(t),n=s.getBoundingClientRect(),o=Math.max(...Array.from(e).map(e=>e.getBoundingClientRect().bottom))-n.top+20,i=[];e.forEach(e=>{const t=e.getBoundingClientRect(),r=t.top-n.top,s=t.left-n.left+t.width/2,l=r+t.height;i.push(s);const d=document.createElementNS("http://www.w3.org/2000/svg","line");d.setAttribute("x1",s),d.setAttribute("y1",l),d.setAttribute("x2",s),d.setAttribute("y2",o),d.setAttribute("stroke","#007BFF"),d.setAttribute("stroke-width","1")})}!function(){const e=getRAM(i,"order")||[];e.length&&e.forEach((e,t)=>{const n=document.getElementById(e);n&&a[t]&&a[t].appendChild(n)})}(),c(),window.addEventListener("resize",c);document.querySelectorAll(t).forEach(e=>{e.setAttribute("draggable",!0),e.addEventListener("dragstart",()=>{u=e,l(e,s),setTimeout(()=>{e.style.visibility="hidden"},0)}),e.addEventListener("drag",()=>{u&&(c(),l(u,s))}),e.addEventListener("dragend",()=>{e.style.visibility="visible",u=null,d(s),setTimeout(c,0)})}),a.forEach(e=>{e.addEventListener("dragover",e=>e.preventDefault()),e.addEventListener("drop",()=>{if(!u)return;const n=u.parentElement,o=e.querySelector(t);o&&o!==u?(e.replaceChild(u,o),n.appendChild(o)):e.appendChild(u),d(s),function(){const e=a.map(e=>{const n=e.querySelector(t);return n?n.id:null});setRAM(i,"order",e)}(),c()})})}