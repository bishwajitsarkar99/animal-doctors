export function cricleNumberPlate(e,t,r){document.querySelectorAll(e).forEach(e=>{const n=+e.getAttribute("data-target")||0,o=e.closest(t);o&&o.style.setProperty(r,n);let i=0;const s=n/50,a=()=>{i+=s,i<n?(e.innerText=Math.floor(i),o&&o.style.setProperty(r,i),requestAnimationFrame(a)):(e.innerText=n,o&&o.style.setProperty(r,n))};a()})}const animatedElements=new WeakMap;function animateNumber(e,t,r=2e3){const n=performance.now();requestAnimationFrame(function o(i){const s=i-n,a=Math.min(s/r,1),l=Math.floor(a*t);e.textContent=l.toLocaleString(),a<1&&requestAnimationFrame(o)})}function isInViewport(e){const t=e.getBoundingClientRect(),r=window.innerHeight||document.documentElement.clientHeight;return t.top<r&&t.bottom>0}export function triggerIfInView(e,t){document.querySelectorAll(e).forEach(e=>{const r=e.closest(t);if(!r)return;const n=isInViewport(r),o=animatedElements.has(r);if(n&&!o){animateNumber(e,parseFloat(e.dataset.target||"0")),animatedElements.set(r,!0)}else!n&&o&&animatedElements.delete(r)})}export function numberRolling(e,t){let r;window.addEventListener("resize",()=>triggerIfInView(e,t)),document.addEventListener("fullscreenchange",()=>triggerIfInView(e,t)),window.addEventListener("scroll",()=>{r||(r=setTimeout(()=>{triggerIfInView(e,t),r=null},100))})}export function initScrollProgressBar(e,t){const r=$(e);0!==r.length&&$(window).on("scroll",function(){$(window).scrollTop()>r.offset().top-window.innerHeight&&!r.hasClass(t)&&(r.addClass(t),setTimeout(()=>{r.removeClass(t)},1500))})}export function browserInspect(){document.addEventListener("DOMContentLoaded",function(){document.addEventListener("contextmenu",function(e){e.preventDefault()}),document.onkeydown=function(e){return 123!=e.keyCode&&((!e.ctrlKey||!e.shiftKey||e.keyCode!=="I".charCodeAt(0))&&((!e.ctrlKey||!e.shiftKey||e.keyCode!=="J".charCodeAt(0))&&((!e.ctrlKey||e.keyCode!=="U".charCodeAt(0))&&void 0)))}})}export function buttonLoader(e,t,r,n="",o="",i=""){$(e).on("click",()=>{$(t).removeAttr("hidden"),$(r).text(n);var e=setTimeout(()=>{$(t).attr("hidden",!0),$(r).text(o)},i);return()=>{clearTimeout(e)}})}export function initializeDrag(e,t,r){let n=null,o=null;const i=Array.from(document.querySelectorAll(e));function s(s,a){n=a,o=a.closest(e);const l=a.getBoundingClientRect();a.classList.add(t),a.style.position="fixed",a.style.zIndex="1000",a.style.width=`${l.width}px`,a.style.height=`${l.height}px`,a.style.cursor="move",a.style.left=`${l.left}px`,a.style.top=`${l.top}px`,document.body.appendChild(a);const c=(s.touches?s.touches[0].clientX:s.clientX)-l.left,d=(s.touches?s.touches[0].clientY:s.clientY)-l.top;function u(e){const t=e.touches?e.touches[0].pageX:e.pageX,r=e.touches?e.touches[0].pageY:e.pageY;a.style.left=t-c+"px",a.style.top=r-d+"px"}function m(e){document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",m),document.removeEventListener("touchmove",u),document.removeEventListener("touchend",m);const n=i.find(t=>{const r=t.getBoundingClientRect(),n=e.touches?e.touches[0].clientX:e.clientX,o=e.touches?e.touches[0].clientY:e.clientY;return n>=r.left&&n<=r.right&&o>=r.top&&o<=r.bottom});if(n&&n!==o){const e=n.querySelector(r);e&&o.appendChild(e),n.innerHTML="",n.appendChild(a)}else o.appendChild(a);a.style.position="",a.style.left="",a.style.top="",a.style.zIndex="",a.style.width="",a.style.height="",a.style.cursor="",a.classList.add(t),function(){const e=i.map(e=>{const t=e.querySelector(r);return t?t.id:null});localStorage.setItem("cardOrder",JSON.stringify(e))}()}"mousedown"===s.type?(document.addEventListener("mousemove",u),document.addEventListener("mouseup",m,{once:!0})):"touchstart"===s.type&&(document.addEventListener("touchmove",u,{passive:!1}),document.addEventListener("touchend",m,{once:!0}))}!function(){const e=JSON.parse(localStorage.getItem("cardOrder")||"[]");if(!e.length)return;const t=Array.from(document.querySelectorAll(r)),n={};t.forEach(e=>{n[e.id]=e}),e.forEach((e,t)=>{const r=document.getElementById(e),n=i[t];r&&n&&n.appendChild(r)})}(),document.querySelectorAll(r).forEach(function(e){e.addEventListener("mousedown",t=>s(t,e)),e.addEventListener("touchstart",t=>s(t,e)),e.ondragstart=()=>!1})}export function initDragAndDrop(e,t,r,n){document.querySelector(r);const o=Array.from(document.querySelectorAll(e));let i=null;const s=document.getElementById(n);function a(){s.innerHTML="";const e=document.querySelectorAll(t),r=s.getBoundingClientRect(),n=Math.max(...Array.from(e).map(e=>e.getBoundingClientRect().bottom))-r.top+20,o=[];e.forEach(e=>{const t=e.getBoundingClientRect(),i=t.top-r.top,s=t.left-r.left+t.width/2,a=i+t.height;o.push(s);const l=document.createElementNS("http://www.w3.org/2000/svg","line");l.setAttribute("x1",s),l.setAttribute("y1",a),l.setAttribute("x2",s),l.setAttribute("y2",n),l.setAttribute("stroke","#007BFF"),l.setAttribute("stroke-width","1")})}!function(){const e=JSON.parse(localStorage.getItem("cardOrder")||"[]");e.length&&e.forEach((e,t)=>{const r=document.getElementById(e);r&&o[t]&&o[t].appendChild(r)})}(),a(),window.addEventListener("resize",a);document.querySelectorAll(t).forEach(e=>{e.setAttribute("draggable",!0),e.addEventListener("dragstart",()=>{i=e,setTimeout(()=>{e.style.visibility="hidden"},0)}),e.addEventListener("drag",()=>{i&&a()}),e.addEventListener("dragend",()=>{e.style.visibility="visible",i=null,setTimeout(a,0)})}),o.forEach(e=>{e.addEventListener("dragover",e=>e.preventDefault()),e.addEventListener("drop",()=>{if(!i)return;const r=i.parentElement,n=e.querySelector(t);n&&n!==i?(e.replaceChild(i,n),r.appendChild(n)):e.appendChild(i),function(){const e=o.map(e=>{const r=e.querySelector(t);return r?r.id:null});localStorage.setItem("cardOrder",JSON.stringify(e))}(),a()})})}export function initializeCurveLineChart(e){const t=document.getElementById(e),r=t.viewBox.baseVal.width||t.clientWidth,n=t.viewBox.baseVal.height||t.clientHeight,o=10,i=(r-20)/119,s=n-o,a=[0,0,10,25,60,100,60,25,10,0,0,0];let l=Array.from({length:120},()=>0);const c=document.createElementNS("http://www.w3.org/2000/svg","path");c.setAttribute("stroke","gray"),c.setAttribute("stroke-width","1"),c.setAttribute("fill","none"),c.setAttribute("stroke-linejoin","round"),c.setAttribute("stroke-linecap","round"),t.appendChild(c);const d=document.createElementNS("http://www.w3.org/2000/svg","path");d.setAttribute("fill","rgba(0, 31, 233, 0.16)"),d.setAttribute("stroke","none"),t.appendChild(d);let u=!1;!function e(){const m=a.shift();a.push(m),l.push(m),l.length>120&&l.shift(),u||(!function(){const e=[{name:"Jan",days:31},{name:"Feb",days:28},{name:"Mar",days:31},{name:"Apr",days:30},{name:"May",days:31},{name:"Jun",days:30},{name:"Jul",days:31},{name:"Aug",days:31},{name:"Sep",days:30},{name:"Oct",days:31},{name:"Nov",days:30},{name:"Dec",days:31}],n=(r-96)/(e.length-1),i=document.createElementNS("http://www.w3.org/2000/svg","line");i.setAttribute("x1",o),i.setAttribute("y1",s),i.setAttribute("x2",r-o),i.setAttribute("y2",s),i.setAttribute("stroke","gray"),i.setAttribute("stroke-width","1"),t.appendChild(i);let a=o;e.forEach((r,o)=>{const i=document.createElementNS("http://www.w3.org/2000/svg","line");i.setAttribute("x1",a),i.setAttribute("y1",s-33),i.setAttribute("x2",a),i.setAttribute("y2",s),i.setAttribute("stroke","#222"),i.setAttribute("stroke-width","1.1"),t.appendChild(i);const l=document.createElementNS("http://www.w3.org/2000/svg","text");if(l.setAttribute("x",a),l.setAttribute("y",s-33),l.setAttribute("text-anchor","middle"),l.setAttribute("font-size","10"),l.setAttribute("font-weight","900"),l.setAttribute("fill","#333"),l.textContent=r.name,t.appendChild(l),o<e.length-1){const e=(a+n-a)/r.days;for(let n=1;n<r.days;n++){const r=a+n*e,o=document.createElementNS("http://www.w3.org/2000/svg","line");o.setAttribute("x1",r),o.setAttribute("y1",s-15),o.setAttribute("x2",r),o.setAttribute("y2",s),o.setAttribute("stroke","#666"),o.setAttribute("stroke-width","0.9"),t.appendChild(o)}}a+=n})}(),u=!0),function(){const e=l.map((e,t)=>[o+t*i,s-e*(n-20)/100]),t=function(e){if(e.length<2)return"";let t=`M ${e[0][0]},${e[0][1]}`;for(let r=1;r<e.length-1;r++){const n=(e[r][0]+e[r+1][0])/2,o=(e[r][1]+e[r+1][1])/2;t+=` Q ${e[r][0]},${e[r][1]} ${n},${o}`}return t}(e);c.setAttribute("d",t);let r=`M ${e[0][0]},${s}`;e.forEach(([e,t])=>r+=` L ${e},${t}`),r+=` L ${e[e.length-1][0]},${s} Z`,d.setAttribute("d",r)}(),setTimeout(()=>requestAnimationFrame(e),200)}()}export function initializeBarCharts(){const e=40;document.querySelectorAll('svg[id^="chart_"]').forEach(t=>{!function(e){const t=document.createElementNS("http://www.w3.org/2000/svg","defs"),r=document.createElementNS("http://www.w3.org/2000/svg","linearGradient");r.setAttribute("id","gradientActivity"),r.setAttribute("x1","0"),r.setAttribute("y1","0"),r.setAttribute("x2","0"),r.setAttribute("y2","1"),[{offset:"0%",color:"#4e73ff"},{offset:"33%",color:"#ff4081"},{offset:"66%",color:"#00bfa5"},{offset:"100%",color:"rgba(34,139,34,0)"}].forEach(({offset:e,color:t})=>{const n=document.createElementNS("http://www.w3.org/2000/svg","stop");n.setAttribute("offset",e),n.setAttribute("stop-color",t),r.appendChild(n)}),t.appendChild(r);const n=document.createElementNS("http://www.w3.org/2000/svg","linearGradient");n.setAttribute("id","glossyLight"),n.setAttribute("x1","0"),n.setAttribute("y1","0"),n.setAttribute("x2","0"),n.setAttribute("y2","1"),[{offset:"0%",color:"rgba(255,255,255,0.6)"},{offset:"10%",color:"rgba(255,255,255,0.2)"},{offset:"100%",color:"rgba(255,255,255,0)"}].forEach(({offset:e,color:t})=>{const r=document.createElementNS("http://www.w3.org/2000/svg","stop");r.setAttribute("offset",e),r.setAttribute("stop-color",t),n.appendChild(r)}),t.appendChild(n);const o=document.createElementNS("http://www.w3.org/2000/svg","filter");o.setAttribute("id","barGlow"),o.setAttribute("x","-50%"),o.setAttribute("y","-50%"),o.setAttribute("width","200%"),o.setAttribute("height","200%");const i=document.createElementNS("http://www.w3.org/2000/svg","feDropShadow");i.setAttribute("dx","0"),i.setAttribute("dy","0"),i.setAttribute("stdDeviation","4"),i.setAttribute("flood-color","#fff"),i.setAttribute("flood-opacity","0.3"),o.appendChild(i),t.appendChild(o),e.appendChild(t)}(t);const r=Array.from({length:4},()=>"url(#gradientActivity)"),n=t.viewBox.baseVal.width||t.clientWidth,o=t.viewBox.baseVal.height||t.clientHeight,i=(n-80)/20,s=Array.from({length:4},()=>Array.from({length:20},()=>100*Math.random()+10));const a=Array.from({length:20},()=>{const e=document.createElementNS("http://www.w3.org/2000/svg","g");return t.appendChild(e),e});function l(){a.forEach((t,n)=>{t.innerHTML="",s.forEach((s,a)=>{const l=s[n]/110*(o-80),c=e+n*i+12*a,d=o-e-l,u=document.createElementNS("http://www.w3.org/2000/svg","rect");u.setAttribute("x",c),u.setAttribute("y",d),u.setAttribute("width",10),u.setAttribute("height",l),u.setAttribute("fill",r[a]),u.setAttribute("filter","url(#barGlow)"),t.appendChild(u);const m=document.createElementNS("http://www.w3.org/2000/svg","rect");m.setAttribute("x",c),m.setAttribute("y",d),m.setAttribute("width",10),m.setAttribute("height",l),m.setAttribute("fill","url(#glossyLight)"),t.appendChild(m)})})}!function(){const r=(e,t,r,n)=>{const o=document.createElementNS("http://www.w3.org/2000/svg","line");return o.setAttribute("x1",e),o.setAttribute("y1",t),o.setAttribute("x2",r),o.setAttribute("y2",n),o.setAttribute("stroke","#ccc"),o.setAttribute("stroke-width","1"),o};t.appendChild(r(e,o-e,n-e,o-e)),t.appendChild(r(e,e,e,o-e))}(),l(),function e(){s.forEach(e=>{e.push(100*Math.random()+10),e.length>20&&e.shift()}),l(),setTimeout(()=>requestAnimationFrame(e),800)}()})}export function initializeDeepColorBarChart(){const e=40;document.querySelectorAll('svg[id^="deepColorChart_"]').forEach(t=>{!function(e){const t=document.createElementNS("http://www.w3.org/2000/svg","defs"),r=document.createElementNS("http://www.w3.org/2000/svg","linearGradient");r.setAttribute("id","gradientActivity"),r.setAttribute("x1","0"),r.setAttribute("y1","0"),r.setAttribute("x2","0"),r.setAttribute("y2","1"),[{offset:"10%",color:"#4e73df",opacity:1},{offset:"25%",color:"#e91e63",opacity:1},{offset:"66%",color:"#008982",opacity:1},{offset:"100%",color:"rgba(34,139,34,0)",opacity:.9}].forEach(({offset:e,color:t})=>{const n=document.createElementNS("http://www.w3.org/2000/svg","stop");n.setAttribute("offset",e),n.setAttribute("stop-color",t),r.appendChild(n)}),t.appendChild(r),e.appendChild(t)}(t);const r=Array.from({length:4},()=>"url(#gradientActivity)"),n=t.viewBox.baseVal.width||t.clientWidth,o=t.viewBox.baseVal.height||t.clientHeight,i=(n-80)/20,s=Array.from({length:4},()=>Array.from({length:20},()=>100*Math.random()+10));const a=Array.from({length:20},()=>{const e=document.createElementNS("http://www.w3.org/2000/svg","g");return t.appendChild(e),e});function l(){a.forEach((t,n)=>{t.innerHTML="",s.forEach((s,a)=>{const l=s[n]/110*(o-80),c=e+n*i+12*a,d=o-e-l,u=document.createElementNS("http://www.w3.org/2000/svg","rect");u.setAttribute("x",c),u.setAttribute("y",d),u.setAttribute("width",10),u.setAttribute("height",l),u.setAttribute("fill",r[a]),t.appendChild(u)})})}!function(){const r=(e,t,r,n)=>{const o=document.createElementNS("http://www.w3.org/2000/svg","line");return o.setAttribute("x1",e),o.setAttribute("y1",t),o.setAttribute("x2",r),o.setAttribute("y2",n),o.setAttribute("stroke","#ccc"),o.setAttribute("stroke-width","1"),o};t.appendChild(r(e,o-e,n-e,o-e)),t.appendChild(r(e,e,e,o-e))}(),l(),function e(){s.forEach(e=>{e.push(100*Math.random()+10),e.length>20&&e.shift()}),l(),setTimeout(()=>requestAnimationFrame(e),800)}()})}export function initializeCommonBarCharts(e){const t=document.getElementById(e),r=t.viewBox.baseVal.width||t.clientWidth,n=t.viewBox.baseVal.height||t.clientHeight,o=40,i=["#2196f3","#e91e63","#4caf50","#ff9800"],s=(r-80)/20,a=Array.from({length:4},()=>Array.from({length:20},()=>100*Math.random()+25));const l=Array.from({length:20},()=>{const e=document.createElementNS("http://www.w3.org/2000/svg","g");return e.setAttribute("class","bar-group"),t.appendChild(e),e});function c(){l.forEach((e,t)=>{e.innerHTML="",a.forEach((r,a)=>{const l=r[t]/110*(n-80),c=o+t*s+30*a,d=n-o-l,u=document.createElementNS("http://www.w3.org/2000/svg","rect");u.setAttribute("x",c),u.setAttribute("y",d),u.setAttribute("width",10),u.setAttribute("height",l),u.setAttribute("fill",i[a]),e.appendChild(u)})})}!function(){const e=document.createElementNS("http://www.w3.org/2000/svg","line");e.setAttribute("x1",o),e.setAttribute("y1",n-o),e.setAttribute("x2",r-o),e.setAttribute("y2",n-o),e.setAttribute("class","axis"),t.appendChild(e);const i=document.createElementNS("http://www.w3.org/2000/svg","line");i.setAttribute("x1",o),i.setAttribute("y1",o),i.setAttribute("x2",o),i.setAttribute("y2",n-o),i.setAttribute("class","axis"),t.appendChild(i);for(let e=0;e<=5;e++){const r=n-o-22*e/110*(n-80),i=document.createElementNS("http://www.w3.org/2000/svg","text");i.setAttribute("x",30),i.setAttribute("y",r+4),i.setAttribute("text-anchor","end"),i.setAttribute("class","label"),t.appendChild(i)}}(),c(),function e(){a.forEach(e=>{e.push(100*Math.random()+25),e.length>20&&e.shift()}),c(),setTimeout(()=>requestAnimationFrame(e),600)}()}export function handleInputValidation(e,t,r,n,o,i,s=200,a=200){var l=$(t).text().trim();($(t).attr("data-error",l),""!==l)?$(e).removeClass(o).addClass(n):""!==$(e).val().trim()?($(e).removeClass(o).addClass(r),$(i).removeClass("hidden").fadeIn(s).delay(s)):$(e).addClass(o).removeClass(n);$(document).on("keyup",e,function(){var l=$(this).val();$(t).text(""),$(e).removeClass("show-error-border"),""!==l?($(this).removeClass(o).addClass(r).removeClass(n),$(i).removeClass("hidden").fadeIn(s).delay(s)):($(this).addClass(o).removeClass(r),$(i).addClass("hidden").fadeOut(a).delay(a))})}export function handleInputOrSelectValidation(e,t,r,n,o,i,s=200,a=200){var l=$(t).text().trim();if($(t).attr("data-error",l),""!==l)$(e).removeClass(o).addClass(n);else{var c=$(e).val().trim();""!==c&&null!==c?($(e).removeClass(o).addClass(r),$(i).removeClass("hidden").fadeIn(s).delay(s)):$(e).addClass(o).removeClass(n)}$(document).on("change keyup",e,function(){var l=$(this).val().trim();$(t).text(""),$(e).removeClass("show-error-border"),""!==l&&null!==l?($(this).removeClass(o).addClass(r).removeClass(n),$(i).removeClass("hidden").fadeIn(s).delay(s)):($(this).addClass(o).removeClass(r),$(i).addClass("hidden").fadeOut(a).delay(a))})}export function pageLoader(){window.addEventListener("load",function(){const e=document.querySelector(".loader-login"),t=document.getElementById("loaderModalForm");if(e&&t){const r=new bootstrap.Modal(t);r.show(),e.classList.add("log_close"),setTimeout(function(){r.hide()},1e3)}})}export function imageUploadBtnLoader(e){e=$("#uploadButton");$(e).on("click",()=>{$(".img-upload-icon").removeClass("register-hidden"),$(this).attr("disabled",!0),$(".upload-btn-text").text("Upload...");var e;return e=setTimeout(()=>{$(".img-upload-icon").addClass("register-hidden"),$(this).attr("disabled",!1),$(".upload-btn-text").text("Upload")},2200),()=>{clearTimeout(e)}})}export function initializeMenuEvents(e,t=!1){const r=document.getElementById(e),n=r.querySelectorAll("li"),o=r.querySelectorAll("span"),i=r.querySelectorAll(t?".role_enter_press":"email_menu"===e?".email_enter_press":".enter_press"),s=r.querySelectorAll(t?"#role_select_list_item":"email_menu"===e?"#email_select_list_item":"#select_list_item");let a=-1,l=!0;function c(t){if(l){if("ArrowDown"===t.key)a=(a+1)%n.length;else if("ArrowUp"===t.key)a=(a-1+n.length)%n.length;else if("ArrowRight"===t.key){if("branch_menu"===e)return document.removeEventListener("keydown",c),void initializeMenuEvents("role_menu",!0);if("role_menu"===e)return document.removeEventListener("keydown",c),void initializeMenuEvents("email_menu")}else if("ArrowLeft"===t.key){if("email_menu"===e)return document.removeEventListener("keydown",c),void initializeMenuEvents("role_menu",!0);if("role_menu"===e)return document.removeEventListener("keydown",c),void initializeMenuEvents("branch_menu")}else if("Escape"===t.key){const t=document.getElementById("branchBox"),r=document.getElementById("roleBox"),n=document.getElementById("emailBox");return"branch_menu"===e&&t?(t.setAttribute("hidden",!0),document.removeEventListener("keydown",c),$("#tabAccess").attr("hidden",!0),$("#home").addClass("active show"),$("#tabAccess").removeClass("active"),$("#tabHome").addClass("active"),$("#userBranchPermission").removeClass("active show"),$("#branchBox").removeAttribute("hidden")):"role_menu"===e&&r?(r.setAttribute("hidden",!0),t?.removeAttribute("hidden"),document.removeEventListener("keydown",c),initializeMenuEvents("branch_menu")):"email_menu"===e&&n&&(n.setAttribute("hidden",!0),t?.removeAttribute("hidden"),r?.removeAttribute("hidden"),document.removeEventListener("keydown",c),initializeMenuEvents("branch_menu"),initializeMenuEvents("role_menu",!0)),l=!1,a=-1,void d()}d()}}function d(){if(n.forEach((e,t)=>{const r=o[t],n=i[t],l=s[t];t===a?(e.classList.add("highlight"),r&&(r.classList.add("bage_display"),r.classList.remove("bage_display_none")),n&&(n.classList.add("bage_display"),n.classList.remove("bage_display_none")),l&&l.setAttribute("data-val","1"),e.blur()):(e.classList.remove("highlight"),r&&(r.classList.remove("bage_display"),r.classList.add("bage_display_none")),n&&(n.classList.remove("bage_display"),n.classList.add("bage_display_none")),l&&l.setAttribute("data-val","0"))}),a>=0){const e=n[a];e.classList.add("highlight"),e.focus()}}document.removeEventListener("keydown",c),document.addEventListener("keydown",c),n.forEach((e,t)=>{e.addEventListener("click",()=>{a=t,d()})}),l&&n.length>0&&(a=0,d())}export function removeSkeletonClass(e){e.forEach(e=>{document.querySelectorAll(`.${e}`).forEach(t=>{t.classList.remove(e)})})}export function handleSuccessMessage(e,t=3e3,r=4e3,n=4e3){if($(e).text().trim())return $(e).fadeIn(t).delay(n).fadeOut(r),()=>{clearTimeout(timeout)}}function getUserRAMKey(){const e=document.querySelector('meta[name="user-role"]')?.content||"guest";return`ApplicationRAM_BackendModule_${document.querySelector('meta[name="branch-id"]')?.content||"identifyer"}_${e}_${(document.querySelector('meta[name="user-email"]')?.content||"unknown").replace(/[^a-zA-Z0-9]/g,"_")}`}export function getRAM(e,t=null){const r=JSON.parse(localStorage.getItem(getUserRAMKey())||"{}")[e]||{};return t?r[t]:r}export function setRAM(e,t,r){const n=getUserRAMKey(),o=JSON.parse(localStorage.getItem(n)||"{}");o[e]=o[e]||{},o[e][t]=r,localStorage.setItem(n,JSON.stringify(o))}export function removeRAM(e){const t=getUserRAMKey(),r=JSON.parse(localStorage.getItem(t)||"{}");delete r[e],localStorage.setItem(t,JSON.stringify(r))}let isDraggingColumn=!1,isResizingColumn=!1,isResizingRow=!1;function isRowResizeActive(){return isResizingRow}export function resize(e,t,r){const n=document.getElementById(e);if(!n)return;const o=getRAM(e,"columnWidths")||{},i=getRAM(e,"rowHeights")||{},s=n.querySelectorAll("thead th"),a=n.querySelector("thead tr"),l=n.querySelectorAll("tbody tr");s.forEach((e,t)=>{const r=o[t];r&&(e.style.width=r+"px",l.forEach(e=>{const n=e.children[t];n&&(n.style.width=r+"px")}))}),i.thead&&(a.style.height=i.thead+"px"),l.forEach((e,t)=>{const r=i[`tr_${t}`];r&&(e.style.height=r+"px")}),n.addEventListener("mousedown",function(s){const a=s.target.classList.contains(t),c=s.target.classList.contains(r);if(!a&&!c)return;const d=s.target.closest("th, td");if(!d)return;const u=Array.from(d.parentNode.children).indexOf(d),m=d.closest("tr"),h=Array.from(n.querySelectorAll("tbody tr")).indexOf(m),g="THEAD"===m.parentElement.tagName;let f=s.pageX,p=s.pageY,y=d.offsetWidth,A=m.offsetHeight;function b(){setRAM(e,"columnWidths",o),setRAM(e,"rowHeights",i)}if(a&&"TH"===d.tagName){if(isDraggingColumn)return;function w(e){const t=y+(e.pageX-f);d.style.width=t+"px",l.forEach(e=>{const r=e.children[u];r&&(r.style.width=t+"px",r.classList.add("col-resizing"))}),o[u]=t,b()}isResizingColumn=!0,d.classList.add("col-resizing"),document.addEventListener("mousemove",w),document.addEventListener("mouseup",function e(){d.classList.remove("col-resizing"),isResizingColumn=!1,l.forEach(e=>{const t=e.children[u];t&&t.classList.remove("col-resizing")}),document.removeEventListener("mousemove",w),document.removeEventListener("mouseup",e)})}if(c){function v(e){const t=A+(e.pageY-p);m.style.height=t+"px",g?i.thead=t:i[`tr_${h}`]=t,b()}isResizingRow=!0,m.classList.add("row-resizing"),[...m.children].forEach(e=>e.classList.add("row-resizing")),document.addEventListener("mousemove",v),document.addEventListener("mouseup",function e(){isResizingRow=!1,m.classList.remove("row-resizing"),[...m.children].forEach(e=>e.classList.remove("row-resizing")),document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",e)})}})}export function restoreRowHeights(e){const t=getRAM(e,"rowHeights")||{},r=document.getElementById(e);if(!r)return;if(r.querySelectorAll("tbody tr").forEach((e,r)=>{const n=t[`tr_${r}`];n&&(e.style.height=`${n}px`)}),t.thead){const e=r.querySelector("thead tr");e&&(e.style.height=`${t.thead}px`)}}export function enableColumnDragAndDrop(e,t){const r=document.getElementById(e);if(!r)return;const n=r.querySelector("thead"),o=r.querySelector("tbody"),i=getRAM(e),s=e=>[...e.parentNode.children].indexOf(e);function a(t,o){r.querySelectorAll("tr").forEach(e=>{const r=[...e.children];if(t>=r.length||o>=r.length)return;const n=r[t],i=r[o];t<o?i.after(n):i.before(n)}),function(){const t=[...n.rows[0].children].map(e=>e.textContent.trim());setRAM(e,"columnOrder",t)}()}let l=null;n.querySelectorAll("th").forEach(e=>{const r=e.querySelector(t);r&&(e.setAttribute("draggable",!0),r.addEventListener("mousedown",t=>{t.stopPropagation(),l=s(e)}),e.addEventListener("dragstart",t=>{isResizingColumn||isRowResizeActive()?t.preventDefault():(isDraggingColumn=!0,t.dataTransfer.effectAllowed="move",l=s(e),e.classList.add("dragging"))}),e.addEventListener("dragover",e=>e.preventDefault()),e.addEventListener("drop",t=>{t.preventDefault();const r=s(e);null!==l&&r!==l&&(a(l,r),l=null)}),e.addEventListener("dragend",()=>{isDraggingColumn=!1,e.classList.remove("dragging")}))}),function(){if(!i.columnOrder)return;const e=[...n.rows[0].children],t=Object.fromEntries(e.map((e,t)=>[e.textContent.trim(),t]));i.columnOrder.map(r=>e[t[r]]).filter(Boolean).forEach(e=>n.rows[0].appendChild(e)),[...o.rows].forEach(e=>{const r=[...e.children];i.columnOrder.map(e=>{const n=t[e];return void 0!==n?r[n]:null}).filter(Boolean).forEach(t=>e.appendChild(t))})}()}export function applySavedColumnOrder(e){const t=getRAM(e,"columnOrder");if(!t)return;const r=document.getElementById(e),n=r.querySelector("thead tr"),o=Array.from(n.children);t.map(e=>o.find(t=>t.textContent.trim()===e)).filter(Boolean).forEach(e=>n.appendChild(e));r.querySelectorAll("tbody tr").forEach(e=>{const r=Array.from(e.children);t.map(e=>{const t=o.findIndex(t=>t.textContent.trim()===e);return r[t]}).filter(Boolean).forEach(t=>e.appendChild(t))})}export function removeDataTableStorage(e){removeRAM(e)}export function getLocalStorageUsageForRAM(){const e=Object.keys(localStorage),t=[];e.forEach(e=>{if(e.startsWith("ApplicationRAM_")){const r=localStorage.getItem(e),n=new Blob([r]).size;t.push({key:e,bytes:n,kb:(n/1024).toFixed(2),mb:(n/1048576).toFixed(4)})}});const r=t.reduce((e,t)=>e+t.bytes,0);return{storageReport:t,totalKB:(r/1024).toFixed(2),totalMB:(r/1048576).toFixed(3)}}export function renderGlobalRAMTable(e){const{storageReport:t,totalKB:r,totalMB:n}=getLocalStorageUsageForRAM();let o='\n        <h5>Global RAM Usage Report</h5>\n        <table class="table table-bordered table-sm">\n            <thead>\n                <tr><th>Key</th><th>Size (KB)</th><th>Size (MB)</th></tr>\n            </thead>\n            <tbody>\n    ';t.forEach(e=>{o+=`<tr>\n            <td>${e.key}</td>\n            <td>${e.kb}KB</td>\n            <td>${e.mb}MB</td>\n        </tr>`}),o+=`\n            </tbody>\n        </table>\n        <p><strong>Total:</strong> ${r} KB (~${n} MB)</p>\n    `,document.getElementById(e).innerHTML=o}let fullRAMReport=[],currentPage=1,perPage=10,searchQuery="",sortField=null,sortDirection="asc",filterPrefix="";function initRAMAnalyzer(){const e=document.getElementById("perItems");e&&(perPage=parseInt(e.value,10)),document.getElementById("ramTableBody")&&analyzeAllRAMKeys()}function analyzeAllRAMKeys(){const e=Object.keys(localStorage).filter(e=>e.startsWith("ApplicationRAM_")),t=[];e.forEach(e=>{const r=localStorage.getItem(e);let n;try{n=JSON.parse(r)}catch(t){return void console.warn(`Failed to parse ${e}`,t)}if("object"==typeof n&&null!==n)for(const r in n){const o=(new Blob([JSON.stringify(n[r])]).size/1024).toFixed(2);t.push({ramKey:e,table:r,size:parseFloat(o)})}}),fullRAMReport=t,currentPage=1,renderRAMTable(),renderPaginationControls()}function renderRAMTable(){const e=document.querySelector("#ramTableBody");e.innerHTML="";let t=[...fullRAMReport];if(""!==filterPrefix.trim()&&(t=t.filter(e=>e.table.startsWith(filterPrefix))),""!==searchQuery.trim()){const e=searchQuery.toLowerCase();t=t.filter(t=>t.ramKey.toLowerCase().includes(e)||t.table.toLowerCase().includes(e))}sortField&&t.sort((e,t)=>{const r=e[sortField],n=t[sortField];return"string"==typeof r?"asc"===sortDirection?r.localeCompare(n):n.localeCompare(r):"asc"===sortDirection?r-n:n-r});const r=(currentPage-1)*perPage,n=t.slice(r,r+perPage);0!==n.length?n.forEach((t,n)=>{const o=`\n            <tr>\n                <td>${r+n+1}</td>\n                <td>${t.ramKey}</td>\n                <td>${t.table}</td>\n                <td>${t.size.toFixed(2)}KB</td>\n            </tr>\n        `;e.insertAdjacentHTML("beforeend",o)}):e.innerHTML='<tr><td colspan="4" class="text-danger text-center">No RAM data found.</td></tr>'}function renderPaginationControls(){const e=document.querySelector("#paginationControls");e.innerHTML="";const t=getFilteredAndSortedData(),r=Math.ceil(t.length/perPage);if(!(r<=1))for(let t=1;t<=r;t++){const r=document.createElement("button");r.textContent=t,r.className="btn btn-sm mx-1 "+(t===currentPage?"btn-primary":"btn-outline-primary"),r.addEventListener("click",()=>{currentPage=t,renderRAMTable(),renderPaginationControls()}),e.appendChild(r)}}function getFilteredAndSortedData(){let e=[...fullRAMReport];if(""!==filterPrefix.trim()&&(e=e.filter(e=>e.table.startsWith(filterPrefix))),""!==searchQuery.trim()){const t=searchQuery.toLowerCase();e=e.filter(e=>e.ramKey.toLowerCase().includes(t)||e.table.toLowerCase().includes(t))}return sortField&&e.sort((e,t)=>{const r=e[sortField],n=t[sortField];return"string"==typeof r?"asc"===sortDirection?r.localeCompare(n):n.localeCompare(r):"asc"===sortDirection?r-n:n-r}),e}function changePerPage(e){perPage=parseInt(e,10),currentPage=1,renderRAMTable(),renderPaginationControls()}function setCurrentPage(e){currentPage=e,renderRAMTable(),renderPaginationControls()}function setSearchQuery(e){searchQuery=e,currentPage=1,renderRAMTable(),renderPaginationControls()}function setSort(e){sortField===e?sortDirection="asc"===sortDirection?"desc":"asc":(sortField=e,sortDirection="asc"),renderRAMTable(),renderPaginationControls()}function setTablePrefix(e){filterPrefix=e,currentPage=1,renderRAMTable(),renderPaginationControls()}function localStorageHasRAM(){return Object.keys(localStorage).some(e=>e.startsWith("ApplicationRAM_"))}export const RAMAnalyzer={initRAMAnalyzer:initRAMAnalyzer,analyzeAllRAMKeys:analyzeAllRAMKeys,changePerPage:changePerPage,setCurrentPage:setCurrentPage,setSearchQuery:setSearchQuery,setSort:setSort,setTablePrefix:setTablePrefix,localStorageHasRAM:localStorageHasRAM};export function borderRotated(e,t,r){document.querySelectorAll(".button-container").forEach(n=>{const o=n.querySelector(t),i=n.querySelector(e);if(!i||!o)return;const s=o.getBoundingClientRect();i.setAttribute("width",s.width),i.setAttribute("height",s.height),i.setAttribute("x",0),i.setAttribute("y",0),i.setAttribute("rx",3),i.setAttribute("ry",3),o.classList.contains(r)?(i.style.stroke="dodgerblue",i.style.strokeDasharray="5,5",i.style.animation="none",i.offsetWidth,i.style.animation="dashmove 1s linear infinite"):(i.style.stroke="lightgray",i.style.strokeDasharray="5,5",i.style.animation="none")})}export function toolTip(){const e=Array.from(document.querySelectorAll('[data-bs-toggle="tooltip"]'));if("undefined"!=typeof bootstrap&&bootstrap.Tooltip){e.map(function(e){return new bootstrap.Tooltip(e)})}}export const getTimeDifference=e=>{const t=new Date,r=new Date(e),n=t-r;let o=t.getMonth()-r.getMonth()+12*(t.getFullYear()-r.getFullYear());t.getDate()<r.getDate()&&(o-=1);let i=t.getDate()-r.getDate();if(i<0){i+=new Date(t.getFullYear(),t.getMonth(),0).getDate()}const s=Math.floor(n%864e5/36e5);let a="";return o>0&&(a+=`${o} months `),i>0&&(a+=`${i} days `),s>0&&(a+=`${s} hrs `),a+=`${Math.floor(n%864e5%36e5/6e4)} mins`,a.trim()};export const formatDate=e=>new Date(e).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0});export const modernDateFormat=e=>{const t=new Date(e),r=String(t.getDate()).padStart(2,"0"),n=t.toLocaleString("en-US",{month:"short"}),o=t.getFullYear();let i=t.getHours();const s=i>=12?"PM":"AM";i%=12,i=i||12;return`${r}-${n}-${o}, ${`${i}:${String(t.getMinutes()).padStart(2,"0")}:${String(t.getSeconds()).padStart(2,"0")} ${s}`}`};export function currentDate(){var e=new Date,t=String(e.getDate()).padStart(2,"0"),r=e.getMonth(),n=e.getFullYear();return`${t}-${["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][r]}-${n}`}export function newFormatDate(e){var t=new Date(e),r=t.getDate(),n=t.getMonth(),o=t.getFullYear();return(r=r<10?"0"+r:r)+"-"+["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][n]+"-"+o}export function formatNumber(e){return parseInt(e).toLocaleString("en-IN")}export function numberCounter(){document.querySelectorAll(".num").forEach(e=>{let t=0,r=parseInt(e.getAttribute("data-val")),n=Math.floor(4e3/r),o=setInterval(function(){t+=1,e.textContent=t,t==r&&clearInterval(o)},n)})}export function mySrcFunction(){var e=document.getElementById("search_off");"OFF"===e.innerHTML?e.innerHTML="<span style='color:darkcyan;'>ON</span>":e.innerHTML="OFF"}export function myLockFunction(){var e=document.getElementById("lock_label");"Unlock"===e.innerHTML?e.innerHTML="<span style='color:orangered;'>Lock</span>":e.innerHTML="Unlock"}export function activeTableRow(e){$(e).addClass("clicked").siblings().removeClass("clicked")}export function editTableRowSinge(e){$(e).addClass("active-row").siblings().removeClass("active-row")}export function imageUpload(e){!function(e){var t=new FileReader;t.onload=function(){var e=document.getElementById("image_view");e&&(e.src=t.result)},e.target.files&&e.target.files[0]&&t.readAsDataURL(e.target.files[0])}(e)}export function handleImageUpload(){var e=$("#imgInput").val(),t=document.querySelector(".bar"),r=document.querySelector(".percent");if(100!==(n=parseInt(r.innerHTML)))if(""!==e){if(0!==$(".bar").width()&&n<100)return;var n=0,o=setInterval(function(){(n+=10)<=100?(t.style.width=n+"%",r.innerHTML=n+"%"):(clearInterval(o),$(".register_img").removeClass("img-hidden"))},200)}else $("#uploadMess").html('<span class="upload-mesg">Please select an image to upload.</span>'),$(".bar").css("width","0%"),$(".percent").text("0%");else $("#uploadMess").html('<span class="upload-mesg">Select an image to upload.</span>')}export function addAttributeOrClass(e){e.forEach(({selector:e,type:t,name:r,value:n})=>{document.querySelectorAll(e).forEach(e=>{"attribute"===t?e.setAttribute(r,n):"class"===t&&e.classList.add(r)})})}export function removeAttributeOrClass(e){e.forEach(({selector:e,type:t,name:r})=>{document.querySelectorAll(e).forEach(e=>{"attribute"===t?e.removeAttribute(r):"class"===t&&e.classList.remove(r)})})}